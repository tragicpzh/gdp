<div class="row">
    <div class="col-6">
        <!-- interactive chart -->
        <div class="card card-primary card-outline">
            <div class="card-header">
                <h3 class="card-title">
                    <i class="far fa-chart-bar"></i>
                    JVM资源状况
                </h3>
                <div style="float: right">
                    可用处理器数量：8
                </div>
            </div>
            <div class="card-body">
                <div id="jvm" style="height: 300px;"></div>
            </div>
            <!-- /.card-body-->
        </div>
        <!-- /.card -->
    </div>
    <div class="col-6">
        <!-- interactive chart -->
        <div class="card card-primary card-outline">
            <div class="card-header">
                <h3 class="card-title">
                    <i class="far fa-chart-bar"></i>
                    服务器内存使用情况
                </h3>
            </div>
            <div class="card-body">
                <div id="mem" style="height: 300px;"></div>
            </div>
            <!-- /.card-body-->
        </div>
        <!-- /.card -->
    </div>
</div>

<div class="row">
    <div class="col-6">
        <div class="card">
            <div class="card-header">
                <h3 class="card-title">
                    <i class="far fa-chart-bar"></i>
                    服务器CPU使用情况
                </h3>
            </div>
            <!-- /.card-header -->
            <div class="card-body">
                <div class="row">
                    <div class="col-6 col-md-3 text-center">
                        <input type="text" class="knob" value="100" data-skin="tron" data-thickness="0.1" data-width="90"
                               data-height="90" data-fgColor="#00a65a">

                        <div class="knob-label">CPU0</div>
                    </div>
                    <!-- ./col -->
                    <div class="col-6 col-md-3 text-center">
                        <input type="text" class="knob" value="60" data-skin="tron" data-thickness="0.1" data-width="90"
                               data-height="90" data-fgColor="#00a65a">

                        <div class="knob-label">CPU1</div>
                    </div>
                    <!-- ./col -->
                    <div class="col-6 col-md-3 text-center">
                        <input type="text" class="knob" value="30" data-skin="tron" data-thickness="0.1" data-width="90"
                               data-height="90" data-fgColor="#00a65a">

                        <div class="knob-label">CPU2</div>
                    </div>
                    <!-- ./col -->
                </div>
                <!-- /.row -->
            </div>
            <!-- /.card-body -->
        </div>
        <!-- /.card -->
    </div>
    <!-- /.col -->
    <div class="col-6">
        <div class="card">
            <div class="card-header">
                <h3 class="card-title">
                    <i class="far fa-chart-bar"></i>
                    服务器磁盘使用情况
                </h3>
            </div>
            <!-- /.card-header -->
            <div class="card-body">
                <div class="row">
                    <div class="col-12 col-md-12 text-center">
                        <input type="text" class="knob" value="100" data-skin="tron" data-thickness="0.1" data-width="360"
                               data-height="360" data-fgColor="#00005a">
                    </div>
                    <!-- ./col -->
                </div>
                <!-- /.row -->
            </div>
            <!-- /.card-body -->
        </div>
        <!-- /.card -->
    </div>
    <!-- /.col -->
</div>
<!-- /.row -->

<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-header">
                <h3 class="card-title">
                    <i class="far fa-chart-bar"></i>
                    服务器日志
                </h3>
            </div>
            <!-- /.card-header -->
            <div class="card-body">
                <div class="row">
                    这里写服务器的日志
                </div>
                <!-- /.row -->
            </div>
            <!-- /.card-body -->
        </div>
        <!-- /.card -->
    </div>
    <!-- /.col -->
</div>
<!-- /.row -->

<script>
    $(function () {
        var dataJVM = [],
            dataMEM = [],
            totalPoints = 60

        for(var i = 0;i < totalPoints;++i){
            dataJVM.push(0);
            dataMEM.push(0);
        }

        function getJVMData() {

            if (dataJVM.length > 0) {
                dataJVM = dataJVM.slice(1)
            }

            var  y = Math.random() * 10 - 5

            if (y < 0) {
                y = 0
            } else if (y > 100) {
                y = 100
            }
            dataJVM.push(y)

            var res = []
            for (var i = 0; i < dataJVM.length; ++i) {
                res.push([i, dataJVM[i]])
            }

            return res
        }

        function getMEMData() {

            if (dataMEM.length > 0) {
                dataMEM = dataMEM.slice(1)
            }

            var  y = Math.random() * 10 - 5

            if (y < 0) {
                y = 0
            } else if (y > 100) {
                y = 100
            }
            dataMEM.push(y)

            var res = []
            for (var i = 0; i < dataMEM.length; ++i) {
                res.push([i, dataMEM[i]])
            }

            return res
        }

        var jvm_plot = $.plot('#jvm', [
                {
                    data: getJVMData(),
                }
            ],
            {
                grid: {
                    borderColor: '#f3f3f3',
                    borderWidth: 1,
                    tickColor: '#f3f3f3'
                },
                series: {
                    color: '#3c8dbc',
                    lines: {
                        lineWidth: 2,
                        show: true,
                        fill: true,
                    },
                },
                yaxis: {
                    min: 0,
                    max: 100,
                    show: true
                },
                xaxis: {
                    show: true
                }
            }
        )

        var mem_plot = $.plot('#mem', [
                {
                    data: getMEMData(),
                }
            ],
            {
                grid: {
                    borderColor: '#f3f3f3',
                    borderWidth: 1,
                    tickColor: '#f3f3f3'
                },
                series: {
                    color: '#3c8dbc',
                    lines: {
                        lineWidth: 2,
                        show: true,
                        fill: true,
                    },
                },
                yaxis: {
                    min: 0,
                    max: 100,
                    show: true
                },
                xaxis: {
                    show: true
                }
            }
        )

        function update() {
            jvm_plot.setData([getJVMData()])
            jvm_plot.draw()

            mem_plot.setData([getMEMData()])
            mem_plot.draw()

            setTimeout(update, 1000)
        }
        update()
    })
</script>

<script>
    $(function () {
        $('.knob').knob({
            draw: function () {
                var a   = this.angle(this.cv)  // Angle
                    ,
                    sa  = this.startAngle          // Previous start angle
                    ,
                    sat = this.startAngle         // Start angle
                    ,
                    ea                            // Previous end angle
                    ,
                    eat = sat + a                 // End angle
                    ,
                    r   = true

                this.g.lineWidth = this.lineWidth

                this.g.beginPath()
                this.g.strokeStyle = r ? this.o.fgColor : this.fgColor
                this.g.arc(this.xy, this.xy, this.radius - this.lineWidth, sat, eat, false)
                this.g.stroke()

                this.g.lineWidth = 2
                this.g.beginPath()
                this.g.strokeStyle = this.o.fgColor
                this.g.arc(this.xy, this.xy, this.radius - this.lineWidth + 1 + this.lineWidth * 2 / 3, 0, 2 * Math.PI, false)
                this.g.stroke()

                return false
            }
        })
    })
</script>